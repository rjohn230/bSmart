{"version":3,"file":"sidebar.component.js","sourceRoot":"","sources":["../../../../../.ng_build/theme/components/sidebar/sidebar.component.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport { Component, HostBinding, Input, OnInit, OnDestroy, ElementRef, OnChanges } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { takeWhile } from 'rxjs/operators';\n\nimport { convertToBoolProperty } from '../helpers';\nimport { NbThemeService } from '../../services/theme.service';\nimport { NbMediaBreakpoint } from '../../services/breakpoints.service';\nimport { NbSidebarService } from './sidebar.service';\n\n\n/**\n * Sidebar header container.\n *\n * Placeholder which contains a sidebar header content,\n * placed at the very top of the sidebar outside of the scroll area.\n */\n@Component({\n  selector: 'nb-sidebar-header',\n  template: `\n    <ng-content></ng-content>\n  `,\n})\nexport class NbSidebarHeaderComponent {\n}\n\n/**\n * Sidebar footer container.\n *\n * Placeholder which contains a sidebar footer content,\n * placed at the very bottom of the sidebar outside of the scroll area.\n */\n@Component({\n  selector: 'nb-sidebar-footer',\n  template: `\n    <ng-content></ng-content>\n  `,\n})\nexport class NbSidebarFooterComponent {\n}\n\n/**\n * Layout sidebar component.\n *\n * @stacked-example(Showcase, sidebar/sidebar-showcase.component)\n *\n * ### Installation\n *\n * Import `NbSidebarModule.forRoot()` to your app module.\n * ```ts\n * @NgModule({\n *   imports: [\n *   \t// ...\n *     NbSidebarModule.forRoot(),\n *   ],\n * })\n * export class AppModule { }\n * ```\n * and `NbSidebarModule` to your feature module where the component should be shown:\n * ```ts\n * @NgModule({\n *   imports: [\n *   \t// ...\n *     NbSidebarModule,\n *   ],\n * })\n * export class PageModule { }\n * ```\n * ### Usage\n *\n * Sidebar can be placed on the left or the right side of the layout,\n * or on start/end position of layout (depends on document direction, left to right or right to left)\n * It can be fixed (shown above the content) or can push the layout when opened.\n *\n * There are three states - `expanded`, `collapsed`, `compacted`.\n * By default sidebar content is fixed and saves its position while the page is being scrolled.\n *\n * Compacted sidebar example:\n * @stacked-example(Compacted Sidebar, sidebar/sidebar-compacted.component)\n *\n * Sidebar also supports a `responsive` behavior, listening to window size change and changing its size respectably.\n *\n * In a pair with header it is possible to setup a configuration when header is placed on a side of the sidebar\n * and not on top of it. To achieve this simply put a `subheader` property to the header like this:\n * ```html\n * <nb-layout-header subheader></nb-layout-header>\n * ```\n * @stacked-example(Subheader, layout/layout-sidebar-subheader.component)\n * Note that in such configuration sidebar shadow is removed and header cannot be make `fixed`.\n *\n * @additional-example(Right Sidebar, sidebar/sidebar-right.component)\n * @additional-example(Fixed Sidebar, sidebar/sidebar-fixed.component)\n *\n * @styles\n *\n * sidebar-font-size: Sidebar content font size\n * sidebar-line-height: Sidebar content line height\n * sidebar-fg: Foreground color\n * sidebar-bg: Background color\n * sidebar-height: Content height\n * sidebar-width: Expanded width\n * sidebar-width-compact: Compacted width\n * sidebar-padding: Sidebar content padding\n * sidebar-header-height: Sidebar header height\n * sidebar-footer-height: Sidebar footer height\n * sidebar-shadow: Sidebar container shadow\n *\n */\n@Component({\n  selector: 'nb-sidebar',\n  styleUrls: ['./sidebar.component.css'],\n  template: `\n    <div class=\"main-container\"\n         [class.main-container-fixed]=\"containerFixedValue\">\n      <ng-content select=\"nb-sidebar-header\"></ng-content>\n      <div class=\"scrollable\" (click)=\"onClick($event)\">\n        <ng-content></ng-content>\n      </div>\n      <ng-content select=\"nb-sidebar-footer\"></ng-content>\n    </div>\n  `,\n})\nexport class NbSidebarComponent implements OnChanges, OnInit, OnDestroy {\n\n  static readonly STATE_EXPANDED: string = 'expanded';\n  static readonly STATE_COLLAPSED: string = 'collapsed';\n  static readonly STATE_COMPACTED: string = 'compacted';\n\n  static readonly RESPONSIVE_STATE_MOBILE: string = 'mobile';\n  static readonly RESPONSIVE_STATE_TABLET: string = 'tablet';\n  static readonly RESPONSIVE_STATE_PC: string = 'pc';\n\n  protected stateValue: string;\n  protected responsiveValue: boolean = false;\n\n  private alive = true;\n\n  containerFixedValue: boolean = true;\n\n  @HostBinding('class.fixed') fixedValue: boolean = false;\n  @HostBinding('class.right') rightValue: boolean = false;\n  @HostBinding('class.left') leftValue: boolean = true;\n  @HostBinding('class.start') startValue: boolean = false;\n  @HostBinding('class.end') endValue: boolean = false;\n\n  // TODO: rename stateValue to state (take a look to the card component)\n  @HostBinding('class.expanded')\n  get expanded() {\n    return this.stateValue === NbSidebarComponent.STATE_EXPANDED;\n  }\n  @HostBinding('class.collapsed')\n  get collapsed() {\n    return this.stateValue === NbSidebarComponent.STATE_COLLAPSED;\n  }\n  @HostBinding('class.compacted')\n  get compacted() {\n    return this.stateValue === NbSidebarComponent.STATE_COMPACTED;\n  }\n\n  /**\n   * Places sidebar on the right side\n   * @type {boolean}\n   */\n  @Input()\n  set right(val: boolean) {\n    this.rightValue = convertToBoolProperty(val);\n    this.leftValue = !this.rightValue;\n    this.startValue = false;\n    this.endValue = false;\n  }\n\n  /**\n   * Places sidebar on the left side\n   * @type {boolean}\n   */\n  @Input()\n  set left(val: boolean) {\n    this.leftValue = convertToBoolProperty(val);\n    this.rightValue = !this.leftValue;\n    this.startValue = false;\n    this.endValue = false;\n  }\n\n  /**\n   * Places sidebar on the start edge of layout\n   * @type {boolean}\n   */\n  @Input()\n  set start(val: boolean) {\n    this.startValue = convertToBoolProperty(val);\n    this.endValue = !this.startValue;\n    this.leftValue = false;\n    this.rightValue = false;\n  }\n\n  /**\n   * Places sidebar on the end edge of layout\n   * @type {boolean}\n   */\n  @Input()\n  set end(val: boolean) {\n    this.endValue = convertToBoolProperty(val);\n    this.startValue = !this.endValue;\n    this.leftValue = false;\n    this.rightValue = false;\n  }\n\n  /**\n   * Makes sidebar fixed (shown above the layout content)\n   * @type {boolean}\n   */\n  @Input()\n  set fixed(val: boolean) {\n    this.fixedValue = convertToBoolProperty(val);\n  }\n\n  /**\n   * Makes sidebar container fixed\n   * @type {boolean}\n   */\n  @Input()\n  set containerFixed(val: boolean) {\n    this.containerFixedValue = convertToBoolProperty(val);\n  }\n\n  /**\n   * Initial sidebar state, `expanded`|`collapsed`|`compacted`\n   * @type {string}\n   */\n  @Input()\n  set state(val: string) {\n    this.stateValue = val;\n  }\n\n  /**\n   * Makes sidebar listen to media query events and change its behaviour\n   * @type {boolean}\n   */\n  @Input()\n  set responsive(val: boolean) {\n    this.responsiveValue = convertToBoolProperty(val);\n  }\n\n  /**\n   * Tags a sidebar with some ID, can be later used in the sidebar service\n   * to determine which sidebar triggered the action, if multiple sidebars exist on the page.\n   *\n   * @type {string}\n   */\n  @Input() tag: string;\n\n  // TODO: get width by the key and define only max width for the tablets and mobiles\n  /**\n   * Controls on which screen sizes sidebar should be switched to compacted state.\n   * Works only when responsive mode is on.\n   * Default values are `['xs', 'is', 'sm', 'md', 'lg']`.\n   *\n   * @type string[]\n   */\n  @Input() compactedBreakpoints: string[] = ['xs', 'is', 'sm', 'md', 'lg'];\n\n  /**\n   * Controls on which screen sizes sidebar should be switched to collapsed state.\n   * Works only when responsive mode is on.\n   * Default values are `['xs', 'is']`.\n   *\n   * @type string[]\n   */\n  @Input() collapsedBreakpoints: string[] = ['xs', 'is'];\n\n  private mediaQuerySubscription: Subscription;\n  private responsiveState = NbSidebarComponent.RESPONSIVE_STATE_PC;\n\n  constructor(private sidebarService: NbSidebarService,\n    private themeService: NbThemeService,\n    private element: ElementRef) {\n  }\n\n  toggleResponsive(enabled: boolean) {\n    if (enabled) {\n      this.mediaQuerySubscription = this.onMediaQueryChanges();\n    } else if (this.mediaQuerySubscription) {\n      this.mediaQuerySubscription.unsubscribe();\n    }\n  }\n\n  ngOnChanges(changes) {\n    if (changes.responsive) {\n      this.toggleResponsive(this.responsiveValue);\n    }\n  }\n\n  ngOnInit() {\n    this.sidebarService.onToggle()\n      .pipe(takeWhile(() => this.alive))\n      .subscribe((data: { compact: boolean, tag: string }) => {\n        if (!this.tag || this.tag === data.tag) {\n          this.toggle(data.compact);\n        }\n      });\n\n    this.sidebarService.onExpand()\n      .pipe(takeWhile(() => this.alive))\n      .subscribe((data: { tag: string }) => {\n        if (!this.tag || this.tag === data.tag) {\n          this.expand();\n        }\n      });\n\n    this.sidebarService.onCollapse()\n      .pipe(takeWhile(() => this.alive))\n      .subscribe((data: { tag: string }) => {\n        if (!this.tag || this.tag === data.tag) {\n          this.collapse();\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    this.alive = false;\n    if (this.mediaQuerySubscription) {\n      this.mediaQuerySubscription.unsubscribe();\n    }\n  }\n\n  // TODO: this is more of a workaround, should be a better way to make components communicate to each other\n  onClick(event): void {\n    const menu = this.element.nativeElement.querySelector('nb-menu');\n\n    if (menu && menu.contains(event.target)) {\n      let link = event.target;\n      const linkChildren = ['span', 'i'];\n\n      // if we clicked on span - get the link\n      if (linkChildren.includes(link.tagName.toLowerCase()) && link.parentNode) {\n        link = event.target.parentNode;\n      }\n\n      // we only expand if an item has children\n      if (link && link.nextElementSibling && link.nextElementSibling.classList.contains('menu-items')) {\n        this.expand();\n      }\n    }\n  }\n\n  /**\n   * Collapses the sidebar\n   */\n  collapse() {\n    this.state = NbSidebarComponent.STATE_COLLAPSED;\n  }\n\n  /**\n   * Expands the sidebar\n   */\n  expand() {\n    this.state = NbSidebarComponent.STATE_EXPANDED;\n  }\n\n  /**\n   * Compacts the sidebar (minimizes)\n   */\n  compact() {\n    this.state = NbSidebarComponent.STATE_COMPACTED;\n  }\n\n  /**\n   * Toggles sidebar state (expanded|collapsed|compacted)\n   * @param {boolean} compact If true, then sidebar state will be changed between expanded & compacted,\n   * otherwise - between expanded & collapsed. False by default.\n   *\n   * Toggle sidebar state\n   *\n   * ```ts\n   * this.sidebar.toggle(true);\n   * ```\n   */\n  toggle(compact: boolean = false) {\n    if (this.responsiveEnabled()) {\n      if (this.responsiveState === NbSidebarComponent.RESPONSIVE_STATE_MOBILE) {\n        compact = false;\n      }\n    }\n\n    const closedStates = [NbSidebarComponent.STATE_COMPACTED, NbSidebarComponent.STATE_COLLAPSED];\n    if (compact) {\n      this.state = closedStates.includes(this.stateValue) ?\n        NbSidebarComponent.STATE_EXPANDED : NbSidebarComponent.STATE_COMPACTED;\n    } else {\n      this.state = closedStates.includes(this.stateValue) ?\n        NbSidebarComponent.STATE_EXPANDED : NbSidebarComponent.STATE_COLLAPSED;\n    }\n  }\n\n  protected onMediaQueryChanges(): Subscription {\n    return this.themeService.onMediaQueryChange()\n      .subscribe(([prev, current]: [NbMediaBreakpoint, NbMediaBreakpoint]) => {\n\n        const isCollapsed = this.collapsedBreakpoints.includes(current.name);\n        const isCompacted = this.compactedBreakpoints.includes(current.name);\n\n        if (isCompacted) {\n          this.fixed = this.containerFixedValue;\n          this.compact();\n          this.responsiveState = NbSidebarComponent.RESPONSIVE_STATE_TABLET;\n        }\n        if (isCollapsed) {\n          this.fixed = true;\n          this.collapse();\n          this.responsiveState = NbSidebarComponent.RESPONSIVE_STATE_MOBILE;\n        }\n        if (!isCollapsed && !isCollapsed && prev.width < current.width) {\n          this.expand();\n          this.fixed = false;\n          this.responsiveState = NbSidebarComponent.RESPONSIVE_STATE_PC;\n        }\n      });\n  }\n\n  protected responsiveEnabled(): boolean {\n    return this.responsiveValue;\n  }\n}\n"]}