{"version":3,"file":"spinner.directive.js","sourceRoot":"","sources":["../../../../../.ng_build/theme/components/spinner/spinner.directive.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport {\n  ComponentFactoryResolver,\n  ComponentFactory,\n  ComponentRef,\n  Directive,\n  ElementRef,\n  Input,\n  OnInit,\n  Renderer2,\n  ViewContainerRef, HostBinding,\n} from '@angular/core';\nimport { NbSpinnerComponent } from './spinner.component';\n\n/**\n * Styled spinner directive\n *\n * @stacked-example(Spinner Showcase, spinner/spinner-card.component)\n *\n *\n * ```ts\n * <nb-card [nbSpinner]=\"loading\" nbSpinnerStatus=\"danger\">\n *   <nb-card-body>Card Content</nb-card-body>\n * </nb-card>\n * ```\n *\n * ### Installation\n *\n * Import `NbSpinnerModule` to your feature module.\n * ```ts\n * @NgModule({\n *   imports: [\n *   \t// ...\n *     NbSpinnerModule,\n *   ],\n * })\n * export class PageModule { }\n * ```\n * ### Usage\n *\n * Could be colored using `status` property\n *\n * @stacked-example(Spinner Colors, spinner/spinner-colors.component)\n *\n * Available in different sizes with `size` property:\n *\n * @stacked-example(Spinner Sizes, spinner/spinner-sizes.component)\n *\n * It is also possible to place it into the button:\n * @stacked-example(Buttons with spinner, spinner/spinner-button.component)\n *\n * Or tabs:\n * @stacked-example(Spinner in tabs, spinner/spinner-tabs.component)\n */\n@Directive({selector: '[nbSpinner]'})\nexport class NbSpinnerDirective implements OnInit {\n\n  spinner: ComponentRef<NbSpinnerComponent>;\n  componentFactory: ComponentFactory<NbSpinnerComponent>;\n\n  @HostBinding('class.nb-spinner-container') isSpinnerExist = false;\n\n  /**\n   * Spinner message shown next to the icon\n   * @type {string}\n   */\n  @Input('nbSpinnerMessage') spinnerMessage: string;\n\n  /**\n   * Spinner status color active, disabled, primary, info, success, warning, danger\n   * @type {string}\n   */\n  @Input('nbSpinnerStatus') spinnerStatus: string;\n\n  /**\n   * Spinner size, available sizes: xxsmall, xsmall, small, medium, large, xlarge, xxlarge\n   * @type {string}\n   */\n  @Input('nbSpinnerSize') spinnerSize: string;\n\n  /**\n   * Directive value - show or hide spinner\n   * @param {boolean} val\n   */\n  @Input('nbSpinner')\n  set nbSpinner(val: boolean) {\n    if (this.componentFactory) {\n      if (val) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    } else {\n      this.shouldShow = val;\n    }\n  }\n\n  private shouldShow = false;\n\n  constructor(private directiveView: ViewContainerRef,\n              private componentFactoryResolver: ComponentFactoryResolver,\n              private renderer: Renderer2,\n              private directiveElement: ElementRef) {\n  }\n\n  ngOnInit() {\n    this.componentFactory = this.componentFactoryResolver.resolveComponentFactory(NbSpinnerComponent);\n    if (this.shouldShow) {\n      this.show();\n    }\n  }\n\n  hide() {\n    if (this.isSpinnerExist) {\n      this.directiveView.remove();\n      this.isSpinnerExist = false;\n    }\n  }\n\n  show() {\n    if (!this.isSpinnerExist) {\n      this.spinner = this.directiveView.createComponent<NbSpinnerComponent>(this.componentFactory);\n      this.setInstanceInputs(this.spinner.instance);\n      this.spinner.changeDetectorRef.detectChanges();\n      this.renderer.appendChild(this.directiveElement.nativeElement, this.spinner.location.nativeElement);\n      this.isSpinnerExist = true;\n    }\n  }\n\n  setInstanceInputs(instance: NbSpinnerComponent) {\n    typeof this.spinnerMessage !== 'undefined' && (instance.message = this.spinnerMessage);\n    typeof this.spinnerStatus !== 'undefined' && (instance.status = this.spinnerStatus);\n    typeof this.spinnerSize !== 'undefined' && (instance.size = this.spinnerSize);\n  }\n}\n"]}