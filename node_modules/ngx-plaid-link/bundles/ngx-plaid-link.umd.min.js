!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-plaid-link",["exports","@angular/core","@angular/common"],e):e(t["ngx-plaid-link"]={},t.ng.core,t.ng.common)}(this,function(t,e,n){"use strict";var o=function(){function t(t){this.plaidLink=Plaid.create(t)}return t.prototype.open=function(t){this.plaidLink.open(t)},t.prototype.exit=function(){this.plaidLink.exit()},t}(),i=function(){function t(){}return t.prototype.createPlaid=function(t){return this.loadPlaid().then(function(){return new o(t)})},t.prototype.loadPlaid=function(){return this.loaded||(this.loaded=new Promise(function(t,e){var n=document.createElement("script");n.type="text/javascript",n.src="https://cdn.plaid.com/link/v2/stable/link-initialize.js",n.onerror=function(t){return e(t)},n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()},document.getElementsByTagName("body")[0].appendChild(n)})),this.loaded},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}();var r=function(){function t(t){this.plaidLinkLoader=t,this.defaultProps={apiVersion:"v2",env:"sandbox",institution:null,token:null,style:{"background-color":"#0085e4","transition-duration":"350ms","transition-property":"background-color, box-shadow","transition-timing-function":"ease-in-out","-webkit-appearance":"button",border:"0","border-radius":"4px","box-shadow":"0 2px 4px 0 rgba(0,0,0,0.1), inset 0 1px 0 0 rgba(255,255,255,0.1)",color:"#fff","font-size":"20px",height:"56px",outline:"0","text-align":"center","text-transform":"none",padding:"0 2em",cursor:"pointer"},buttonText:"Log In To Your Bank Account",webhook:"",product:["auth"],className:"plaid-link-button"},this.apiVersion=this.defaultProps.apiVersion,this.env=this.defaultProps.env,this.institution=this.defaultProps.institution,this.product=this.defaultProps.product,this.token=this.defaultProps.token,this.webhook=this.defaultProps.webhook,this.style=this.defaultProps.style,this.className=this.defaultProps.className,this.buttonText=this.defaultProps.buttonText,this.Event=new e.EventEmitter,this.Click=new e.EventEmitter,this.Load=new e.EventEmitter,this.Exit=new e.EventEmitter,this.Success=new e.EventEmitter,this.disabledButton=!0}return Object.defineProperty(t.prototype,"nativeWindow",{get:function(){return function t(){return window}()},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var e=this,n=this;this.plaidLinkLoader.createPlaid({env:n.env,key:n.publicKey,product:n.product,apiVersion:"v2",clientName:n.clientName,onSuccess:function(t,e){n.onSuccess(t,e)},onExit:function(t,e){n.onExit(t,e)},onEvent:function(t,e){n.onEvent(t,e)},onLoad:function(){n.onLoad()},token:n.token||null,webhook:n.webhook||null}).then(function(t){e.disabledButton=!1,e.plaidLinkHandler=t})},t.prototype.onScriptError=function(){console.error("There was an issue loading the link-initialize.js script")},t.prototype.onExit=function(t,e){this.Exit.emit({error:t,metadata:e})},t.prototype.onEvent=function(t,e){this.Event.emit({eventName:t,metadata:e})},t.prototype.onSuccess=function(t,e){this.Success.emit({token:t,metadata:e})},t.prototype.onClick=function(t){this.Click.emit(t);var e=this.institution||null;this.plaidLinkHandler&&this.plaidLinkHandler.open(e)},t.prototype.onLoad=function(t){void 0===t&&(t="link_loaded"),this.Load.emit(t)},t.decorators=[{type:e.Component,args:[{selector:"mr-ngx-plaid-link-button",template:'\n    <button\n      (click)="onClick($event)"\n      [class]="className"\n      [disabled]="disabledButton"\n      [ngStyle]="style">\n      {{buttonText}}\n    </button>\n  ',styles:[]}]}],t.ctorParameters=function(){return[{type:i}]},t.propDecorators={apiVersion:[{type:e.Input}],clientName:[{type:e.Input}],env:[{type:e.Input}],institution:[{type:e.Input}],publicKey:[{type:e.Input}],product:[{type:e.Input}],token:[{type:e.Input}],webhook:[{type:e.Input}],style:[{type:e.Input}],className:[{type:e.Input}],buttonText:[{type:e.Input}],Event:[{type:e.Output}],Click:[{type:e.Output}],Load:[{type:e.Output}],Exit:[{type:e.Output}],Success:[{type:e.Output}]},t}(),a=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],providers:[i],declarations:[r],exports:[r]}]}],t}();t.NgxPlaidLinkService=i,t.NgxPlaidLinkButtonComponent=r,t.NgxPlaidLinkModule=a,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-plaid-link.umd.min.js.map